@echo off
title Umbra
if exist "ControlPanel.{UMBRA}" goto reveal
if not exist "Umbra" goto newuser
if exist "Umbra" goto hide
:newuser
cls
echo Hello, and welcome to Umbra! Please choose a password.
set/p "password= >> "
echo %password%>> UmbraData.dll
attrib +h +s "UmbraData.dll"
cls
md "ControlPanel.{UMBRA}"
ren ControlPanel.{UMBRA} "Umbra"
echo Setting up Umbra...
timeout 3 >nul
if exist Umbra goto newusergood
if not exist Umbra goto newuserbad
:newusergood
echo Umbra setup successful!
echo Made with love by JustLilith of Gesta~
timeout 3 >nul
goto end
:newuserbad
echo Umbra setup failed. Please contact Uzuki707 on GitHub.
pause
goto end
:hide
ren Umbra "ControlPanel.{UMBRA}"
attrib +h +s "ControlPanel.{UMBRA}"
echo Files hidden successfully~
timeout 3 >nul
goto end
:reveal
cls
echo Please enter password.
set/p "enteredpass= >> "
>nul find "%enteredpass%" UmbraData.dll
if %errorlevel%==0 (
goto success
)
if %errorlevel%==1 (
goto fail
)
:success
attrib -h -s "ControlPanel.{UMBRA}"
ren ControlPanel.{UMBRA} "Umbra"
echo Password correct. Your files are now revealed.
timeout 3 >nul
goto end
:fail
echo Password incorrect. Please try again.
timeout 3 >nul
goto reveal
:end
